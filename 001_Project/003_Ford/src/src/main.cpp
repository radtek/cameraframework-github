/**
 * generated by Voice CodeGen Version: R1_v1.3.0
 * generated on: Fri Nov 04 18:01:09 IST 2016
 */

#include <thread>
#include <csignal>
#include <CommonAPI/CommonAPI.hpp>
#include "ParkAssistSrv_Manager/CPAMPresctrl.hpp"
#include "ParkAssistSrv_Common/ParkAssist_TableContainer.hpp"

using namespace v0::com::harman::ParkAssist ;
using namespace v2::org::genivi::NodeStateManager;

int main(int argc, char **argv) {
    CommonAPI::Runtime::setProperty("LogContext", "ParkAssist");
    CommonAPI::Runtime::setProperty("LibraryBase", "ParkAssist");
    
    EParkAssitGenRet l_status = e_ParkAssitSuccess;
    
    // enabling DLT logs
 
    Log::initLogging("PAM", "Park Assist Pres Control", ParkAssistLoggingContexts); 
    
    //Initializing PresCore

    PresCtrl::initPresControl(ParkAssistRequestList, nullptr);
    
  // Creating PAM presctrl and initializing 
    l_status = CPAMPresctrl::getInstance()->InitializePAM();
    
    if(l_status == e_ParkAssitFailure)
    {
        LOG_INFO(LOG_COMMON,"PAM initialization failed and exiting the process") ;
        return 0;
    }

     PresCtrl::mainLoop();
    return 0;
}
