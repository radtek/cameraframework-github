//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : Ford-LCIS
//  @ File Name : CMQRunnableService.h
//  @ Date : 2016-11-22
//  @ Author : Guofeng.lu@harman.com
//
//


#if !defined(_CMQRUNNABLESERVICE_H)
#define _CMQRUNNABLESERVICE_H
#include "TraceMacros.h"
#include "CRunableService.h"
#include "CMessageQueue.h"
#include "CEvent.h"
#include <string>
using namespace std;

class CMQRunnableService : public CRunableService {
public:
	CMQRunnableService(const string& strName="NameNotSet", CMessageQueue* pMsgQueue=NULL);
	virtual ~CMQRunnableService();
	virtual void pushMessage(const tagBaseMessage& rMsg,int ilen=0);
	virtual void start();
	bool initialize(string sServiceName);
	bool unitialize();
	
protected:
	virtual void update();
	virtual void beforeHandleMessageQueue();
	virtual void afterHandleMessageQueue();	
	void setMsgQueue(CMessageQueue* pMsgQueue){m_pMsgQueue = pMsgQueue;};
	
private:
	bool m_bInitialized;
	CMessageQueue* m_pMsgQueue;
	
};

#endif  //_CMQRUNNABLESERVICE_H
